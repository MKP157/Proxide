<!DOCTYPE html>
<html>
    <head>
        <TITLE>Dash Demo</TITLE>

        <link rel="stylesheet" href="/style.css">

        <script src="https://cdnjs.cloudflare.com/ajax/libs/dashjs/4.1.0/dash.all.min.js"></script>
        <script>
            function startVideo(mpd) {
              var video, player;
              var url = "https://bitmovin-a.akamaihd.net/content/MI201109210084_1/mpds/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.mpd";

              video = document.querySelector('video');
          
              player = dashjs.MediaPlayer().create();
          
              player.setAutoPlay(false);
              player.initialize(video, url, true);
            }
        </script>

        <style>
            video {
                width: 80%;
            }

            #BrowsingControls{
                display:grid;
                grid-template-columns: 33.33% 33.33% 33.33%;
            }

            .bordered{
                border: 1px solid black;
            }

            .textCentered{
                text-align: center;
            }

            .basicMargin{
                margin: 10px;
            }

            #PgHeader{
                margin-bottom: 1px !important;
            }

            #BrowsingControls{
                margin-top:0px !important;
            }

            #background{
                background-color:rgb(208 206 226);
            }

            #ProjectContainer{
                background-color: white;
            }

            .MenuBackground {
                background-color: rgb(218 232 252);
            }

            #videoContainer{
                text-align: center;
                max-width: 100%;
            }

            #VideoDetails{
                display:grid;
                grid-template-columns: 50% 50%;
            }

        </style>
    </head>
    <body id="background" onload="startVideo('manifest.mpd');">
        <div class="textCentered">
            <img width="200" src="/PrOxide_Logo.png">
            </img>
        </div>

        <div id="ProjectContainer" class="basicMargin bordered">
            <div id="PgHeader" class="basicMargin bordered">Proxide Web Server v1.0 // <var id="current-date"></var></div>
            <script>
                const urlElement = document.getElementById("current-url");
                const dateElement = document.getElementById("current-date");
                const currentUrl = window.location.href;
                urlElement.textContent = `${currentUrl}`;
                dateElement.textContent = `${Date().toString()}`;
            </script>

            <div id="BrowsingControls" class="basicMargin">
                <div class="textCentered bordered MenuBackground" style="margin-right:10px">
                    <button onclick="window.location.href='/home.html'">
                        Home
                    </button>
                </div>
                <div class="textCentered bordered MenuBackground">
                    <button onclick="window.location.href='/BrowseDemos.html'">
                        Browse Demos
                    </button>
                </div>
                <div class="textCentered bordered MenuBackground" style="margin-left:10px">
                    <button onclick="window.location.href='/AboutUs.html'">
                        About Us
                    </button>
                </div>
            </div>

            <div id="TitleContainer" class="textCentered bordered basicMargin">
                <h3>HTTP DASH Playback Demo</h3>
            </div>

            <div id="videoContainer">
                <video controls></video>

                <div id="VideoDetailsContainer">
                    <div id="VideoTitle"></div>
                    <div id="VideoDetails">
                        <div id="Uploader_Name" class="bordered basicMargin">Author</div>
                        <div id="Upload_Date" class="bordered basicMargin">Date</div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="textCentered">
            <pre class="textCentered"> &copy;1999 Rustacean Co. </pre>
        </footer>
    </body>
</html>